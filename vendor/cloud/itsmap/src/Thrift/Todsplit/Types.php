<?php
namespace Todsplit;

/**
 * Autogenerated by Thrift Compiler (0.10.0)
 *
 * DO NOT EDIT UNLESS YOU ARE SURE THAT YOU KNOW WHAT YOU ARE DOING
 *  @generated
 */
use Thrift\Base\TBase;
use Thrift\Type\TType;
use Thrift\Type\TMessageType;
use Thrift\Exception\TException;
use Thrift\Exception\TProtocolException;
use Thrift\Protocol\TProtocol;
use Thrift\Protocol\TBinaryProtocolAccelerated;
use Thrift\Exception\TApplicationException;


class MovementSignal {
  static $_TSPEC;

  /**
   * @var string
   */
  public $logic_flow_id = null;
  /**
   * @var int[]
   */
  public $green_start = null;
  /**
   * @var int[]
   */
  public $green_duration = null;
  /**
   * @var int[]
   */
  public $yellow = null;
  /**
   * @var int[]
   */
  public $red_clean = null;

  public function __construct($vals=null) {
    if (!isset(self::$_TSPEC)) {
      self::$_TSPEC = array(
        1 => array(
          'var' => 'logic_flow_id',
          'type' => TType::STRING,
          ),
        2 => array(
          'var' => 'green_start',
          'type' => TType::LST,
          'etype' => TType::I32,
          'elem' => array(
            'type' => TType::I32,
            ),
          ),
        3 => array(
          'var' => 'green_duration',
          'type' => TType::LST,
          'etype' => TType::I32,
          'elem' => array(
            'type' => TType::I32,
            ),
          ),
        4 => array(
          'var' => 'yellow',
          'type' => TType::LST,
          'etype' => TType::I32,
          'elem' => array(
            'type' => TType::I32,
            ),
          ),
        5 => array(
          'var' => 'red_clean',
          'type' => TType::LST,
          'etype' => TType::I32,
          'elem' => array(
            'type' => TType::I32,
            ),
          ),
        );
    }
    if (is_array($vals)) {
      if (isset($vals['logic_flow_id'])) {
        $this->logic_flow_id = $vals['logic_flow_id'];
      }
      if (isset($vals['green_start'])) {
        $this->green_start = $vals['green_start'];
      }
      if (isset($vals['green_duration'])) {
        $this->green_duration = $vals['green_duration'];
      }
      if (isset($vals['yellow'])) {
        $this->yellow = $vals['yellow'];
      }
      if (isset($vals['red_clean'])) {
        $this->red_clean = $vals['red_clean'];
      }
    }
  }

  public function getName() {
    return 'MovementSignal';
  }

  public function read($input)
  {
    $xfer = 0;
    $fname = null;
    $ftype = 0;
    $fid = 0;
    $xfer += $input->readStructBegin($fname);
    while (true)
    {
      $xfer += $input->readFieldBegin($fname, $ftype, $fid);
      if ($ftype == TType::STOP) {
        break;
      }
      switch ($fid)
      {
        case 1:
          if ($ftype == TType::STRING) {
            $xfer += $input->readString($this->logic_flow_id);
          } else {
            $xfer += $input->skip($ftype);
          }
          break;
        case 2:
          if ($ftype == TType::LST) {
            $this->green_start = array();
            $_size0 = 0;
            $_etype3 = 0;
            $xfer += $input->readListBegin($_etype3, $_size0);
            for ($_i4 = 0; $_i4 < $_size0; ++$_i4)
            {
              $elem5 = null;
              $xfer += $input->readI32($elem5);
              $this->green_start []= $elem5;
            }
            $xfer += $input->readListEnd();
          } else {
            $xfer += $input->skip($ftype);
          }
          break;
        case 3:
          if ($ftype == TType::LST) {
            $this->green_duration = array();
            $_size6 = 0;
            $_etype9 = 0;
            $xfer += $input->readListBegin($_etype9, $_size6);
            for ($_i10 = 0; $_i10 < $_size6; ++$_i10)
            {
              $elem11 = null;
              $xfer += $input->readI32($elem11);
              $this->green_duration []= $elem11;
            }
            $xfer += $input->readListEnd();
          } else {
            $xfer += $input->skip($ftype);
          }
          break;
        case 4:
          if ($ftype == TType::LST) {
            $this->yellow = array();
            $_size12 = 0;
            $_etype15 = 0;
            $xfer += $input->readListBegin($_etype15, $_size12);
            for ($_i16 = 0; $_i16 < $_size12; ++$_i16)
            {
              $elem17 = null;
              $xfer += $input->readI32($elem17);
              $this->yellow []= $elem17;
            }
            $xfer += $input->readListEnd();
          } else {
            $xfer += $input->skip($ftype);
          }
          break;
        case 5:
          if ($ftype == TType::LST) {
            $this->red_clean = array();
            $_size18 = 0;
            $_etype21 = 0;
            $xfer += $input->readListBegin($_etype21, $_size18);
            for ($_i22 = 0; $_i22 < $_size18; ++$_i22)
            {
              $elem23 = null;
              $xfer += $input->readI32($elem23);
              $this->red_clean []= $elem23;
            }
            $xfer += $input->readListEnd();
          } else {
            $xfer += $input->skip($ftype);
          }
          break;
        default:
          $xfer += $input->skip($ftype);
          break;
      }
      $xfer += $input->readFieldEnd();
    }
    $xfer += $input->readStructEnd();
    return $xfer;
  }

  public function write($output) {
    $xfer = 0;
    $xfer += $output->writeStructBegin('MovementSignal');
    if ($this->logic_flow_id !== null) {
      $xfer += $output->writeFieldBegin('logic_flow_id', TType::STRING, 1);
      $xfer += $output->writeString($this->logic_flow_id);
      $xfer += $output->writeFieldEnd();
    }
    if ($this->green_start !== null) {
      if (!is_array($this->green_start)) {
        throw new TProtocolException('Bad type in structure.', TProtocolException::INVALID_DATA);
      }
      $xfer += $output->writeFieldBegin('green_start', TType::LST, 2);
      {
        $output->writeListBegin(TType::I32, count($this->green_start));
        {
          foreach ($this->green_start as $iter24)
          {
            $xfer += $output->writeI32($iter24);
          }
        }
        $output->writeListEnd();
      }
      $xfer += $output->writeFieldEnd();
    }
    if ($this->green_duration !== null) {
      if (!is_array($this->green_duration)) {
        throw new TProtocolException('Bad type in structure.', TProtocolException::INVALID_DATA);
      }
      $xfer += $output->writeFieldBegin('green_duration', TType::LST, 3);
      {
        $output->writeListBegin(TType::I32, count($this->green_duration));
        {
          foreach ($this->green_duration as $iter25)
          {
            $xfer += $output->writeI32($iter25);
          }
        }
        $output->writeListEnd();
      }
      $xfer += $output->writeFieldEnd();
    }
    if ($this->yellow !== null) {
      if (!is_array($this->yellow)) {
        throw new TProtocolException('Bad type in structure.', TProtocolException::INVALID_DATA);
      }
      $xfer += $output->writeFieldBegin('yellow', TType::LST, 4);
      {
        $output->writeListBegin(TType::I32, count($this->yellow));
        {
          foreach ($this->yellow as $iter26)
          {
            $xfer += $output->writeI32($iter26);
          }
        }
        $output->writeListEnd();
      }
      $xfer += $output->writeFieldEnd();
    }
    if ($this->red_clean !== null) {
      if (!is_array($this->red_clean)) {
        throw new TProtocolException('Bad type in structure.', TProtocolException::INVALID_DATA);
      }
      $xfer += $output->writeFieldBegin('red_clean', TType::LST, 5);
      {
        $output->writeListBegin(TType::I32, count($this->red_clean));
        {
          foreach ($this->red_clean as $iter27)
          {
            $xfer += $output->writeI32($iter27);
          }
        }
        $output->writeListEnd();
      }
      $xfer += $output->writeFieldEnd();
    }
    $xfer += $output->writeFieldStop();
    $xfer += $output->writeStructEnd();
    return $xfer;
  }

}

class SignalPlan {
  static $_TSPEC;

  /**
   * @var string
   */
  public $logic_junction_id = null;
  /**
   * @var string
   */
  public $dates = null;
  /**
   * @var string
   */
  public $start_time = null;
  /**
   * @var string
   */
  public $end_time = null;
  /**
   * @var int
   */
  public $cycle = null;
  /**
   * @var int
   */
  public $offset = null;
  /**
   * @var int
   */
  public $clock_shift = null;
  /**
   * @var \Todsplit\MovementSignal[]
   */
  public $signal = null;

  public function __construct($vals=null) {
    if (!isset(self::$_TSPEC)) {
      self::$_TSPEC = array(
        1 => array(
          'var' => 'logic_junction_id',
          'type' => TType::STRING,
          ),
        2 => array(
          'var' => 'dates',
          'type' => TType::STRING,
          ),
        3 => array(
          'var' => 'start_time',
          'type' => TType::STRING,
          ),
        4 => array(
          'var' => 'end_time',
          'type' => TType::STRING,
          ),
        5 => array(
          'var' => 'cycle',
          'type' => TType::I32,
          ),
        6 => array(
          'var' => 'offset',
          'type' => TType::I32,
          ),
        7 => array(
          'var' => 'clock_shift',
          'type' => TType::I32,
          ),
        8 => array(
          'var' => 'signal',
          'type' => TType::LST,
          'etype' => TType::STRUCT,
          'elem' => array(
            'type' => TType::STRUCT,
            'class' => '\Todsplit\MovementSignal',
            ),
          ),
        );
    }
    if (is_array($vals)) {
      if (isset($vals['logic_junction_id'])) {
        $this->logic_junction_id = $vals['logic_junction_id'];
      }
      if (isset($vals['dates'])) {
        $this->dates = $vals['dates'];
      }
      if (isset($vals['start_time'])) {
        $this->start_time = $vals['start_time'];
      }
      if (isset($vals['end_time'])) {
        $this->end_time = $vals['end_time'];
      }
      if (isset($vals['cycle'])) {
        $this->cycle = $vals['cycle'];
      }
      if (isset($vals['offset'])) {
        $this->offset = $vals['offset'];
      }
      if (isset($vals['clock_shift'])) {
        $this->clock_shift = $vals['clock_shift'];
      }
      if (isset($vals['signal'])) {
        $this->signal = $vals['signal'];
      }
    }
  }

  public function getName() {
    return 'SignalPlan';
  }

  public function read($input)
  {
    $xfer = 0;
    $fname = null;
    $ftype = 0;
    $fid = 0;
    $xfer += $input->readStructBegin($fname);
    while (true)
    {
      $xfer += $input->readFieldBegin($fname, $ftype, $fid);
      if ($ftype == TType::STOP) {
        break;
      }
      switch ($fid)
      {
        case 1:
          if ($ftype == TType::STRING) {
            $xfer += $input->readString($this->logic_junction_id);
          } else {
            $xfer += $input->skip($ftype);
          }
          break;
        case 2:
          if ($ftype == TType::STRING) {
            $xfer += $input->readString($this->dates);
          } else {
            $xfer += $input->skip($ftype);
          }
          break;
        case 3:
          if ($ftype == TType::STRING) {
            $xfer += $input->readString($this->start_time);
          } else {
            $xfer += $input->skip($ftype);
          }
          break;
        case 4:
          if ($ftype == TType::STRING) {
            $xfer += $input->readString($this->end_time);
          } else {
            $xfer += $input->skip($ftype);
          }
          break;
        case 5:
          if ($ftype == TType::I32) {
            $xfer += $input->readI32($this->cycle);
          } else {
            $xfer += $input->skip($ftype);
          }
          break;
        case 6:
          if ($ftype == TType::I32) {
            $xfer += $input->readI32($this->offset);
          } else {
            $xfer += $input->skip($ftype);
          }
          break;
        case 7:
          if ($ftype == TType::I32) {
            $xfer += $input->readI32($this->clock_shift);
          } else {
            $xfer += $input->skip($ftype);
          }
          break;
        case 8:
          if ($ftype == TType::LST) {
            $this->signal = array();
            $_size28 = 0;
            $_etype31 = 0;
            $xfer += $input->readListBegin($_etype31, $_size28);
            for ($_i32 = 0; $_i32 < $_size28; ++$_i32)
            {
              $elem33 = null;
              $elem33 = new \Todsplit\MovementSignal();
              $xfer += $elem33->read($input);
              $this->signal []= $elem33;
            }
            $xfer += $input->readListEnd();
          } else {
            $xfer += $input->skip($ftype);
          }
          break;
        default:
          $xfer += $input->skip($ftype);
          break;
      }
      $xfer += $input->readFieldEnd();
    }
    $xfer += $input->readStructEnd();
    return $xfer;
  }

  public function write($output) {
    $xfer = 0;
    $xfer += $output->writeStructBegin('SignalPlan');
    if ($this->logic_junction_id !== null) {
      $xfer += $output->writeFieldBegin('logic_junction_id', TType::STRING, 1);
      $xfer += $output->writeString($this->logic_junction_id);
      $xfer += $output->writeFieldEnd();
    }
    if ($this->dates !== null) {
      $xfer += $output->writeFieldBegin('dates', TType::STRING, 2);
      $xfer += $output->writeString($this->dates);
      $xfer += $output->writeFieldEnd();
    }
    if ($this->start_time !== null) {
      $xfer += $output->writeFieldBegin('start_time', TType::STRING, 3);
      $xfer += $output->writeString($this->start_time);
      $xfer += $output->writeFieldEnd();
    }
    if ($this->end_time !== null) {
      $xfer += $output->writeFieldBegin('end_time', TType::STRING, 4);
      $xfer += $output->writeString($this->end_time);
      $xfer += $output->writeFieldEnd();
    }
    if ($this->cycle !== null) {
      $xfer += $output->writeFieldBegin('cycle', TType::I32, 5);
      $xfer += $output->writeI32($this->cycle);
      $xfer += $output->writeFieldEnd();
    }
    if ($this->offset !== null) {
      $xfer += $output->writeFieldBegin('offset', TType::I32, 6);
      $xfer += $output->writeI32($this->offset);
      $xfer += $output->writeFieldEnd();
    }
    if ($this->clock_shift !== null) {
      $xfer += $output->writeFieldBegin('clock_shift', TType::I32, 7);
      $xfer += $output->writeI32($this->clock_shift);
      $xfer += $output->writeFieldEnd();
    }
    if ($this->signal !== null) {
      if (!is_array($this->signal)) {
        throw new TProtocolException('Bad type in structure.', TProtocolException::INVALID_DATA);
      }
      $xfer += $output->writeFieldBegin('signal', TType::LST, 8);
      {
        $output->writeListBegin(TType::STRUCT, count($this->signal));
        {
          foreach ($this->signal as $iter34)
          {
            $xfer += $iter34->write($output);
          }
        }
        $output->writeListEnd();
      }
      $xfer += $output->writeFieldEnd();
    }
    $xfer += $output->writeFieldStop();
    $xfer += $output->writeStructEnd();
    return $xfer;
  }

}

class GreenSplitOptResponse {
  static $_TSPEC;

  /**
   * @var string
   */
  public $errno = null;
  /**
   * @var string
   */
  public $errmsg = null;
  /**
   * @var \Todsplit\SignalPlan
   */
  public $green_split_opt_signal_plan = null;
  /**
   * @var string[]
   */
  public $over_saturation_flow = null;
  /**
   * @var string[]
   */
  public $green_loss_flow = null;

  public function __construct($vals=null) {
    if (!isset(self::$_TSPEC)) {
      self::$_TSPEC = array(
        1 => array(
          'var' => 'errno',
          'type' => TType::STRING,
          ),
        2 => array(
          'var' => 'errmsg',
          'type' => TType::STRING,
          ),
        3 => array(
          'var' => 'green_split_opt_signal_plan',
          'type' => TType::STRUCT,
          'class' => '\Todsplit\SignalPlan',
          ),
        4 => array(
          'var' => 'over_saturation_flow',
          'type' => TType::LST,
          'etype' => TType::STRING,
          'elem' => array(
            'type' => TType::STRING,
            ),
          ),
        5 => array(
          'var' => 'green_loss_flow',
          'type' => TType::LST,
          'etype' => TType::STRING,
          'elem' => array(
            'type' => TType::STRING,
            ),
          ),
        );
    }
    if (is_array($vals)) {
      if (isset($vals['errno'])) {
        $this->errno = $vals['errno'];
      }
      if (isset($vals['errmsg'])) {
        $this->errmsg = $vals['errmsg'];
      }
      if (isset($vals['green_split_opt_signal_plan'])) {
        $this->green_split_opt_signal_plan = $vals['green_split_opt_signal_plan'];
      }
      if (isset($vals['over_saturation_flow'])) {
        $this->over_saturation_flow = $vals['over_saturation_flow'];
      }
      if (isset($vals['green_loss_flow'])) {
        $this->green_loss_flow = $vals['green_loss_flow'];
      }
    }
  }

  public function getName() {
    return 'GreenSplitOptResponse';
  }

  public function read($input)
  {
    $xfer = 0;
    $fname = null;
    $ftype = 0;
    $fid = 0;
    $xfer += $input->readStructBegin($fname);
    while (true)
    {
      $xfer += $input->readFieldBegin($fname, $ftype, $fid);
      if ($ftype == TType::STOP) {
        break;
      }
      switch ($fid)
      {
        case 1:
          if ($ftype == TType::STRING) {
            $xfer += $input->readString($this->errno);
          } else {
            $xfer += $input->skip($ftype);
          }
          break;
        case 2:
          if ($ftype == TType::STRING) {
            $xfer += $input->readString($this->errmsg);
          } else {
            $xfer += $input->skip($ftype);
          }
          break;
        case 3:
          if ($ftype == TType::STRUCT) {
            $this->green_split_opt_signal_plan = new \Todsplit\SignalPlan();
            $xfer += $this->green_split_opt_signal_plan->read($input);
          } else {
            $xfer += $input->skip($ftype);
          }
          break;
        case 4:
          if ($ftype == TType::LST) {
            $this->over_saturation_flow = array();
            $_size35 = 0;
            $_etype38 = 0;
            $xfer += $input->readListBegin($_etype38, $_size35);
            for ($_i39 = 0; $_i39 < $_size35; ++$_i39)
            {
              $elem40 = null;
              $xfer += $input->readString($elem40);
              $this->over_saturation_flow []= $elem40;
            }
            $xfer += $input->readListEnd();
          } else {
            $xfer += $input->skip($ftype);
          }
          break;
        case 5:
          if ($ftype == TType::LST) {
            $this->green_loss_flow = array();
            $_size41 = 0;
            $_etype44 = 0;
            $xfer += $input->readListBegin($_etype44, $_size41);
            for ($_i45 = 0; $_i45 < $_size41; ++$_i45)
            {
              $elem46 = null;
              $xfer += $input->readString($elem46);
              $this->green_loss_flow []= $elem46;
            }
            $xfer += $input->readListEnd();
          } else {
            $xfer += $input->skip($ftype);
          }
          break;
        default:
          $xfer += $input->skip($ftype);
          break;
      }
      $xfer += $input->readFieldEnd();
    }
    $xfer += $input->readStructEnd();
    return $xfer;
  }

  public function write($output) {
    $xfer = 0;
    $xfer += $output->writeStructBegin('GreenSplitOptResponse');
    if ($this->errno !== null) {
      $xfer += $output->writeFieldBegin('errno', TType::STRING, 1);
      $xfer += $output->writeString($this->errno);
      $xfer += $output->writeFieldEnd();
    }
    if ($this->errmsg !== null) {
      $xfer += $output->writeFieldBegin('errmsg', TType::STRING, 2);
      $xfer += $output->writeString($this->errmsg);
      $xfer += $output->writeFieldEnd();
    }
    if ($this->green_split_opt_signal_plan !== null) {
      if (!is_object($this->green_split_opt_signal_plan)) {
        throw new TProtocolException('Bad type in structure.', TProtocolException::INVALID_DATA);
      }
      $xfer += $output->writeFieldBegin('green_split_opt_signal_plan', TType::STRUCT, 3);
      $xfer += $this->green_split_opt_signal_plan->write($output);
      $xfer += $output->writeFieldEnd();
    }
    if ($this->over_saturation_flow !== null) {
      if (!is_array($this->over_saturation_flow)) {
        throw new TProtocolException('Bad type in structure.', TProtocolException::INVALID_DATA);
      }
      $xfer += $output->writeFieldBegin('over_saturation_flow', TType::LST, 4);
      {
        $output->writeListBegin(TType::STRING, count($this->over_saturation_flow));
        {
          foreach ($this->over_saturation_flow as $iter47)
          {
            $xfer += $output->writeString($iter47);
          }
        }
        $output->writeListEnd();
      }
      $xfer += $output->writeFieldEnd();
    }
    if ($this->green_loss_flow !== null) {
      if (!is_array($this->green_loss_flow)) {
        throw new TProtocolException('Bad type in structure.', TProtocolException::INVALID_DATA);
      }
      $xfer += $output->writeFieldBegin('green_loss_flow', TType::LST, 5);
      {
        $output->writeListBegin(TType::STRING, count($this->green_loss_flow));
        {
          foreach ($this->green_loss_flow as $iter48)
          {
            $xfer += $output->writeString($iter48);
          }
        }
        $output->writeListEnd();
      }
      $xfer += $output->writeFieldEnd();
    }
    $xfer += $output->writeFieldStop();
    $xfer += $output->writeStructEnd();
    return $xfer;
  }

}

class TodInfo {
  static $_TSPEC;

  /**
   * @var string[]
   */
  public $dates = null;
  /**
   * @var (array)[]
   */
  public $junction_movements = null;
  /**
   * @var int
   */
  public $tod_cnt = null;
  /**
   * @var string
   */
  public $map_version = null;

  public function __construct($vals=null) {
    if (!isset(self::$_TSPEC)) {
      self::$_TSPEC = array(
        -1 => array(
          'var' => 'dates',
          'type' => TType::LST,
          'etype' => TType::STRING,
          'elem' => array(
            'type' => TType::STRING,
            ),
          ),
        -2 => array(
          'var' => 'junction_movements',
          'type' => TType::LST,
          'etype' => TType::MAP,
          'elem' => array(
            'type' => TType::MAP,
            'ktype' => TType::STRING,
            'vtype' => TType::LST,
            'key' => array(
              'type' => TType::STRING,
            ),
            'val' => array(
              'type' => TType::LST,
              'etype' => TType::STRING,
              'elem' => array(
                'type' => TType::STRING,
                ),
              ),
            ),
          ),
        -3 => array(
          'var' => 'tod_cnt',
          'type' => TType::I32,
          ),
        -4 => array(
          'var' => 'map_version',
          'type' => TType::STRING,
          ),
        );
    }
    if (is_array($vals)) {
      if (isset($vals['dates'])) {
        $this->dates = $vals['dates'];
      }
      if (isset($vals['junction_movements'])) {
        $this->junction_movements = $vals['junction_movements'];
      }
      if (isset($vals['tod_cnt'])) {
        $this->tod_cnt = $vals['tod_cnt'];
      }
      if (isset($vals['map_version'])) {
        $this->map_version = $vals['map_version'];
      }
    }
  }

  public function getName() {
    return 'TodInfo';
  }

  public function read($input)
  {
    $xfer = 0;
    $fname = null;
    $ftype = 0;
    $fid = 0;
    $xfer += $input->readStructBegin($fname);
    while (true)
    {
      $xfer += $input->readFieldBegin($fname, $ftype, $fid);
      if ($ftype == TType::STOP) {
        break;
      }
      switch ($fid)
      {
        case -1:
          if ($ftype == TType::LST) {
            $this->dates = array();
            $_size49 = 0;
            $_etype52 = 0;
            $xfer += $input->readListBegin($_etype52, $_size49);
            for ($_i53 = 0; $_i53 < $_size49; ++$_i53)
            {
              $elem54 = null;
              $xfer += $input->readString($elem54);
              $this->dates []= $elem54;
            }
            $xfer += $input->readListEnd();
          } else {
            $xfer += $input->skip($ftype);
          }
          break;
        case -2:
          if ($ftype == TType::LST) {
            $this->junction_movements = array();
            $_size55 = 0;
            $_etype58 = 0;
            $xfer += $input->readListBegin($_etype58, $_size55);
            for ($_i59 = 0; $_i59 < $_size55; ++$_i59)
            {
              $elem60 = null;
              $elem60 = array();
              $_size61 = 0;
              $_ktype62 = 0;
              $_vtype63 = 0;
              $xfer += $input->readMapBegin($_ktype62, $_vtype63, $_size61);
              for ($_i65 = 0; $_i65 < $_size61; ++$_i65)
              {
                $key66 = '';
                $val67 = array();
                $xfer += $input->readString($key66);
                $val67 = array();
                $_size68 = 0;
                $_etype71 = 0;
                $xfer += $input->readListBegin($_etype71, $_size68);
                for ($_i72 = 0; $_i72 < $_size68; ++$_i72)
                {
                  $elem73 = null;
                  $xfer += $input->readString($elem73);
                  $val67 []= $elem73;
                }
                $xfer += $input->readListEnd();
                $elem60[$key66] = $val67;
              }
              $xfer += $input->readMapEnd();
              $this->junction_movements []= $elem60;
            }
            $xfer += $input->readListEnd();
          } else {
            $xfer += $input->skip($ftype);
          }
          break;
        case -3:
          if ($ftype == TType::I32) {
            $xfer += $input->readI32($this->tod_cnt);
          } else {
            $xfer += $input->skip($ftype);
          }
          break;
        case -4:
          if ($ftype == TType::STRING) {
            $xfer += $input->readString($this->map_version);
          } else {
            $xfer += $input->skip($ftype);
          }
          break;
        default:
          $xfer += $input->skip($ftype);
          break;
      }
      $xfer += $input->readFieldEnd();
    }
    $xfer += $input->readStructEnd();
    return $xfer;
  }

  public function write($output) {
    $xfer = 0;
    $xfer += $output->writeStructBegin('TodInfo');
    if ($this->map_version !== null) {
      $xfer += $output->writeFieldBegin('map_version', TType::STRING, -4);
      $xfer += $output->writeString($this->map_version);
      $xfer += $output->writeFieldEnd();
    }
    if ($this->tod_cnt !== null) {
      $xfer += $output->writeFieldBegin('tod_cnt', TType::I32, -3);
      $xfer += $output->writeI32($this->tod_cnt);
      $xfer += $output->writeFieldEnd();
    }
    if ($this->junction_movements !== null) {
      if (!is_array($this->junction_movements)) {
        throw new TProtocolException('Bad type in structure.', TProtocolException::INVALID_DATA);
      }
      $xfer += $output->writeFieldBegin('junction_movements', TType::LST, -2);
      {
        $output->writeListBegin(TType::MAP, count($this->junction_movements));
        {
          foreach ($this->junction_movements as $iter74)
          {
            {
              $output->writeMapBegin(TType::STRING, TType::LST, count($iter74));
              {
                foreach ($iter74 as $kiter75 => $viter76)
                {
                  $xfer += $output->writeString($kiter75);
                  {
                    $output->writeListBegin(TType::STRING, count($viter76));
                    {
                      foreach ($viter76 as $iter77)
                      {
                        $xfer += $output->writeString($iter77);
                      }
                    }
                    $output->writeListEnd();
                  }
                }
              }
              $output->writeMapEnd();
            }
          }
        }
        $output->writeListEnd();
      }
      $xfer += $output->writeFieldEnd();
    }
    if ($this->dates !== null) {
      if (!is_array($this->dates)) {
        throw new TProtocolException('Bad type in structure.', TProtocolException::INVALID_DATA);
      }
      $xfer += $output->writeFieldBegin('dates', TType::LST, -1);
      {
        $output->writeListBegin(TType::STRING, count($this->dates));
        {
          foreach ($this->dates as $iter78)
          {
            $xfer += $output->writeString($iter78);
          }
        }
        $output->writeListEnd();
      }
      $xfer += $output->writeFieldEnd();
    }
    $xfer += $output->writeFieldStop();
    $xfer += $output->writeStructEnd();
    return $xfer;
  }

}

class TodPlans {
  static $_TSPEC;

  /**
   * @var (array)[]
   */
  public $tod_plans = null;
  /**
   * @var string
   */
  public $errno = null;
  /**
   * @var string
   */
  public $errmsg = null;

  public function __construct($vals=null) {
    if (!isset(self::$_TSPEC)) {
      self::$_TSPEC = array(
        -1 => array(
          'var' => 'tod_plans',
          'type' => TType::LST,
          'etype' => TType::MAP,
          'elem' => array(
            'type' => TType::MAP,
            'ktype' => TType::STRING,
            'vtype' => TType::LST,
            'key' => array(
              'type' => TType::STRING,
            ),
            'val' => array(
              'type' => TType::LST,
              'etype' => TType::STRING,
              'elem' => array(
                'type' => TType::STRING,
                ),
              ),
            ),
          ),
        -2 => array(
          'var' => 'errno',
          'type' => TType::STRING,
          ),
        -3 => array(
          'var' => 'errmsg',
          'type' => TType::STRING,
          ),
        );
    }
    if (is_array($vals)) {
      if (isset($vals['tod_plans'])) {
        $this->tod_plans = $vals['tod_plans'];
      }
      if (isset($vals['errno'])) {
        $this->errno = $vals['errno'];
      }
      if (isset($vals['errmsg'])) {
        $this->errmsg = $vals['errmsg'];
      }
    }
  }

  public function getName() {
    return 'TodPlans';
  }

  public function read($input)
  {
    $xfer = 0;
    $fname = null;
    $ftype = 0;
    $fid = 0;
    $xfer += $input->readStructBegin($fname);
    while (true)
    {
      $xfer += $input->readFieldBegin($fname, $ftype, $fid);
      if ($ftype == TType::STOP) {
        break;
      }
      switch ($fid)
      {
        case -1:
          if ($ftype == TType::LST) {
            $this->tod_plans = array();
            $_size79 = 0;
            $_etype82 = 0;
            $xfer += $input->readListBegin($_etype82, $_size79);
            for ($_i83 = 0; $_i83 < $_size79; ++$_i83)
            {
              $elem84 = null;
              $elem84 = array();
              $_size85 = 0;
              $_ktype86 = 0;
              $_vtype87 = 0;
              $xfer += $input->readMapBegin($_ktype86, $_vtype87, $_size85);
              for ($_i89 = 0; $_i89 < $_size85; ++$_i89)
              {
                $key90 = '';
                $val91 = array();
                $xfer += $input->readString($key90);
                $val91 = array();
                $_size92 = 0;
                $_etype95 = 0;
                $xfer += $input->readListBegin($_etype95, $_size92);
                for ($_i96 = 0; $_i96 < $_size92; ++$_i96)
                {
                  $elem97 = null;
                  $xfer += $input->readString($elem97);
                  $val91 []= $elem97;
                }
                $xfer += $input->readListEnd();
                $elem84[$key90] = $val91;
              }
              $xfer += $input->readMapEnd();
              $this->tod_plans []= $elem84;
            }
            $xfer += $input->readListEnd();
          } else {
            $xfer += $input->skip($ftype);
          }
          break;
        case -2:
          if ($ftype == TType::STRING) {
            $xfer += $input->readString($this->errno);
          } else {
            $xfer += $input->skip($ftype);
          }
          break;
        case -3:
          if ($ftype == TType::STRING) {
            $xfer += $input->readString($this->errmsg);
          } else {
            $xfer += $input->skip($ftype);
          }
          break;
        default:
          $xfer += $input->skip($ftype);
          break;
      }
      $xfer += $input->readFieldEnd();
    }
    $xfer += $input->readStructEnd();
    return $xfer;
  }

  public function write($output) {
    $xfer = 0;
    $xfer += $output->writeStructBegin('TodPlans');
    if ($this->errmsg !== null) {
      $xfer += $output->writeFieldBegin('errmsg', TType::STRING, -3);
      $xfer += $output->writeString($this->errmsg);
      $xfer += $output->writeFieldEnd();
    }
    if ($this->errno !== null) {
      $xfer += $output->writeFieldBegin('errno', TType::STRING, -2);
      $xfer += $output->writeString($this->errno);
      $xfer += $output->writeFieldEnd();
    }
    if ($this->tod_plans !== null) {
      if (!is_array($this->tod_plans)) {
        throw new TProtocolException('Bad type in structure.', TProtocolException::INVALID_DATA);
      }
      $xfer += $output->writeFieldBegin('tod_plans', TType::LST, -1);
      {
        $output->writeListBegin(TType::MAP, count($this->tod_plans));
        {
          foreach ($this->tod_plans as $iter98)
          {
            {
              $output->writeMapBegin(TType::STRING, TType::LST, count($iter98));
              {
                foreach ($iter98 as $kiter99 => $viter100)
                {
                  $xfer += $output->writeString($kiter99);
                  {
                    $output->writeListBegin(TType::STRING, count($viter100));
                    {
                      foreach ($viter100 as $iter101)
                      {
                        $xfer += $output->writeString($iter101);
                      }
                    }
                    $output->writeListEnd();
                  }
                }
              }
              $output->writeMapEnd();
            }
          }
        }
        $output->writeListEnd();
      }
      $xfer += $output->writeFieldEnd();
    }
    $xfer += $output->writeFieldStop();
    $xfer += $output->writeStructEnd();
    return $xfer;
  }

}


